# 数组

数组是一个线性表数据结构，利用的一组**连续内存空间**，存储具有**相同类型**的数据。

## 两个概念

### 线性表

数据排成一条线，每个线性表最多有前后两个方向。

![2019-03-11-22-55-35](http://jikelearn.cn/2019-03-11-22-55-35.png)

### 非线性表

非线性表中不止简单的前后两个关系。
![2019-03-11-22-56-22](http://jikelearn.cn/2019-03-11-22-56-22.png)

## 实现随机访问

实现随机访问一个是因为数组是线性表结构，第二个是连续的内存空间与相同类型的数据。

两个特性让数组有了随机访问的特性。但是有了随机访问，在插入数据与删除数据，必须做大量的数据迁移工作。

随机访问的时候会根据数据类型（字节大小）和索引来计算内存的位置。从0开始计算

## 插入

数组的插入操作，如果我们在数组的尾部插入数据，可以直接根据索引位置插入数据。

但是如果在数组中插入一个数据就需要进行迁移。比如长度为n。插入的位置是k，n>k。

那么我们需要迁移的数据就是k~n这端的数据。

### 时间复杂度

最好时间复杂度：O(1)

最坏时间复杂度：O(n)

平均时间复杂度：每个插入的位置概率一样，那么就是（1+2+3+4+....n）/n=O(n)

### 解决插入低效的方式

插入某个位置 只迁移当个位置的数据 时间复杂度就改为了O(1).

## 删除

删除数据与插入数据基本一直，都需要涉及到数据迁移。

### 时间复杂度

最好时间复杂度:O(1)

最坏时间复杂度：O(n)

平均时间复杂度：O(N)

### 解决办法

删除数据的时候，只记录下删除的数据，删除操作并不真正的删除操作，只是记录该数据被删除。

## 容器

- 容器相对于数据增加动态扩容，操作上更加方便。
- 容器没法存储基础类型，只能存储对象，有装包拆包的性能损耗。
- 数据大小已知，不需要用到容器的方法。

## 数组为什么从0开始

在计算机中如果编号不是从0开始，CPU每次随机访问数组元素就需要做一次减法指令。对CPU来说就增加了一层减法指令。

当然还有历史原因导致的。
