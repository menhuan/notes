# 如何理解递归

- 递归是一种非常广泛的算法。涉及到的算法有DFS深度优先搜索，前中后序二叉树遍历等
- 递归，去的过程叫做递，回来的过程叫做归。
- 举例说明：

  ```Java
  递归跟我们在高中学习的数列类似。
  f(n) = f(n-1) + 1 ;
  f(n) = f(n-1)+f(n-2);
  ```  

## 递归需要满足的三个条件

1. 一个问题的解答可以分为几个子问题的解答
2. 这个问题与分解后的子问题，除了数据规模不同之外，求解思路是一样的
3. 存在递归结束条件

## 如何编写递归代码

1. 写递推公式。
  根据需要完成的业务逻辑，罗列出来条件，完成递推公式的构造。
2. 设置终止条件
  设置终止条件，用小数据验证下条件是否正确。
3. 总结
  关键在于找到如何将大问题，分解为小问题的规律，并且基于此先写出递推公式，然后再推敲终止条件。最后翻译成代码实现。

## 写递归代码需要注意之处

- 递归代码警惕堆栈溢出
  我们在前面说栈的时候，了解到进入一个方法都是把内容放到栈中，递归也是会每次进入方法中有再次入栈 的操作。
  入栈的深度很大，那么会容易超出系统设置的堆栈大小，出现异常。
  
```Java
  java.lang.StackOverflowError 异常信息
```

- 防止重复计算
在递归的过程中，我们的通用计算方式，可能会存在使用上次的中间结果值，那么为了防止重复计算我们可以进行保存中间的结果值。
在代码中使用到中间值，可以从内存中取出使用即可，不用再次入栈进行计算。
![重复计算 摘自极客时间](https://upload-images.jianshu.io/upload_images/4237685-82e5f824f3c77f96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 将递归改成非递归的方式

使用循环的思想来完成这个操作。实际上是在内存堆上实现入栈，出栈的过程。
