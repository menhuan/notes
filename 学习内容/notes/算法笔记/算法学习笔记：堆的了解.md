# 堆

堆概念：是一个特殊的树，主要注意一下了三点：

1. 是一个完全二叉树。
2. 堆中每一个节点的值都必须大于等于其子树中每个节点的值。
3. 或者堆中每一个节点的值都必须小于等于子树中每个节点的值。

2与3是等价的， 2形成的堆可以成为是大顶堆，3形成的堆称为小顶堆。

## 堆的插入

完全二叉树适合用数组来存储，可以节省空间直接使用数组下标来达到随机访问数据。

![2019-05-06-22-02-40](http://jikelearn.cn/2019-05-06-22-02-40.png)

插入数据在堆中需要继续满足我们上面说的条件。2与3任选其一。

则插入数据需要进行数据的调整，满足条件，这种操作叫做堆化。

堆化分为从上往下，与从下往上。

### 从下往上

![2019-05-06-22-04-58](http://jikelearn.cn/2019-05-06-22-04-58.png)

不管是从上往下还是从下往上都需要进行数据的交换与比较。

## 堆的删除

删除也可以进行从上往下与从下往上。但是从上往下删除，可能会导致最后形成的堆，并不是完全二叉树。则我们还是从下往上进行删除。

## 堆的排序

排序首先需要的是建立堆，然后再排序。

### 建立堆

两种方案。

1. 按照数组的方式奇数与偶数方式的存放数据。
2. 数据采用从后往前，每个数据都是**从上往下**进行堆化。

在每个节点需要堆化的时间复杂度是O(logn),将每个节点的时间复杂度进行计算，然后相加得到S= 2h+1 -h -2

h =log2n，则S=O(n);

![2019-05-06-23-46-00](http://jikelearn.cn/2019-05-06-23-46-00.png)

### 排序

排序根据从堆顶进行堆化，跟最后的数据进行交换，堆化排序。

每一个节点都需要进行交换，堆化操作，则排序的时间复杂度是O(nlogn).堆的整体排序时间复杂度是O(nlogn)。
