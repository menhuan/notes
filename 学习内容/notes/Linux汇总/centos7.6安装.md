# 系统的安装

今天在公司重新将自己的服务器进行重新整理，将三台系统重新整理，并对其硬盘记性格式化处理并且再次挂载操作。

## centos7.6

### centos7.6系统盘的准备

在系统上，根据安装的数据库tidb，还有ceph等服务考虑，我们选择系统的时候没有选择公司常用的ubuntu系统，而是选择centos系统。

准备 :系统镜像,U盘引导盘处理。

#### 系统镜像下载

镜像下载链接地址：[centos下载页面](https://www.centos.org/download/)。

![2019-03-01-15-10-40](http://jikelearn.cn/2019-03-01-15-10-40.png)

安装在服务器上，我们都选择mini镜像，服务器上没有必要选择带有图形化界面的系统。

#### 制作U盘启动

下载好需要的镜像后，开始制作U盘启动盘。

这次需要的工具是ultraiso，这个有绿色版本，还有收费版本，嗯自行选择哈。

1. 下载后打开页面如下：
![2019-03-01-16-47-02](http://jikelearn.cn/2019-03-01-16-47-02.png)。

2. 选择需要制作的镜像
![2019-03-01-16-49-59](http://jikelearn.cn/2019-03-01-16-49-59.png)
![2019-03-01-17-03-56](http://jikelearn.cn/2019-03-01-17-03-56.png)

3. 制作启动盘

选择好镜像后，点击工具栏的启动，然后在选择写入硬盘镜像。

![2019-03-01-17-06-07](http://jikelearn.cn/2019-03-01-17-06-07.png)

在硬盘驱动器选择我们要写入的U盘。

![2019-03-01-17-06-37](http://jikelearn.cn/2019-03-01-17-06-37.png)

点击写入，注意：**原先的数据会被格式化，请等待格式化完毕**。

写入完成后，我们的启动盘就算制作完毕。

### 系统安装

将U盘插入到我们需要进行安装的服务器上，启动后进入 boots menu 界面。我们使用的服务器是按F11进行操作。

由于各个服务器选择不同，我们在boots 界面选择我们要使用的引导盘U盘。

进入U盘后，会看到两个选项：

- Install CentOS 7 #安装CentOS 7

- Test this media & install CentOS  7 #测试安装文件并安装CentOS  7

由于是真机安装centos7.6系统，默认的引导盘并不是我们需要的，所以需要重新设置引导盘。

如果不知道U盘的引导盘符是多少，按下e键进入编辑页面
把界面的内容改成如下：

```Linux
vmlinuz initrd=initrd.img dd linux quite 按下Ctrl + x 保存住数据。

```

等待一段时间，系统会将盘符全部列出来，找到自己需要的盘符。如果没有发现自己的U盘盘符，在命令行写下reflash 重新刷新下即可。

重新启动机器，进入上面的页面进行编辑。

```Linux
vmlinuz initrd=initrd.img inst.stage2=hd:/dev/sdf4 quiet
```

注意/dev/sdf4 代表的是自己U盘的盘符，就是使用如下命令

```Linux
vmlinuz initrd=initrd.img dd linux quite 按下Ctrl + x 保存住数据。

```

展示出来。

这样保存后就直接一路按照路径操作这就好。直接截图如下：

- 选择英文:

![2019-03-01-17-34-46](http://jikelearn.cn/2019-03-01-17-34-46.png)

- 选择continue 之后继续，再选择安装系统的位置。

![2019-03-01-17-35-28](http://jikelearn.cn/2019-03-01-17-35-28.png)
![2019-03-01-17-36-48](http://jikelearn.cn/2019-03-01-17-36-48.png)

在这里有一点需要注意的是，如果我们选择的盘空间不够，或者存在数据，会提示我们是否要删除硬盘内容，这里的作用就是格式化盘。

重新装系统一般都是删除格式化硬盘，将其硬盘格式化操作。

如果要自定义区间分配可以选择红圈内部的内容继续选择自定义设置分区。

在这里就默认选择。

- 开始安装Begin Installation

开始开始安装后，在这里设置root密码，如果需要自定义用户，则选择右侧自定义内容进行设置。

![2019-03-01-17-44-12](http://jikelearn.cn/2019-03-01-17-44-12.png)

等待安装完成，然后重启机器。

## 进入bios 修改启动项

在U盘安装的过程中，会将第一选择项设置为U盘启动，所以在安装完系统后，需要将第一启动项设置为 Hard disk centos 这个选项。

在选择项上，如果没有该选项，则说明装系统的操作存在失误，需要重新安装。

修改完毕后，重新启动机器，进入系统。

## 设置网卡

启动后，需要设置网卡，来自动获取ip,当然也可以自定义静态ip，这样ip不会变化。

```Linux
进入目录如下：
cd /etc/sysconfig/network-scripts

找到自己连接网线的网卡内容。
将ONBOOT=no 改为 ONBOOT=yes

执行命令,重启网卡
service network restart
```

以上就可以进行网络的访问执行，但如果要有其他硬盘需要增加，我们还需要进行挂载硬盘，请参考[硬盘挂载](http://);