# 评估网络性能

评估网络的性能，为服务器硬件及容量做基本的数据准备

## 性能指标

带宽：表示链路的最大传输速率，常用的指标是1000M,10G等单位是b/s 比特/秒。

吞吐量: 表示没有丢包的最大数据传输速率，单位通常为b/s或者B/s ,小b/8 =大B。吞吐量除以带宽就是该网络链路的使用率。

延时： 表示网络请求后，直到收到远端响应，所需要的时间延迟。但不同的场景下可能存在不同的含义。

PPS: 是包/秒的说法，表示以网络包为单位的额传输速率，通常用来评估网络的转发能力。

对于WEB应用来说，更多的关注并发数量以及每秒请求数。

## 网络基准测试

暂时只说工具，具体使用方法可以尽情的谷歌。

不同的协议栈，需要测试的方法也不同。

- 应用层的测试：比如HTTP方式的Web服务。
- 大多数游戏服务器来说，要基于更大的交互，这里会基于TCP或者UDP，所以我们需要测试TCP或者UDP的性能
- 有一些场景需要把Linux当做一个交换机或者路由器来使用，需要关注网络包的处理能力。

## 协议层性能测试

### 转发性能

网络接口层与网络层，主要负责网络包的封装，寻址，路由以及发送和接收。

这里需要关注的网络包的处理能力，使用的工具就是hping3还有内核自带的pktgen命令

### TCP与UDP性能测试

在测试该两个性能需要的是ipef与netperf这连个工具。

#### ipef

